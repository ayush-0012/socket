<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat app</title>
</head>
<body>
  <H1>CHATTING</H1>
  <input type="text" placeholder="enter your message" id="message">
  <button id="sendBtn">send</button>

  <div id="messages"></div>

</body>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io()
  const messageInput = document.getElementById("message")
  const sendMsg = document.getElementById("sendBtn")
  const allMessages  = document.getElementById("messages")
 

  socket.on("message" , message => {
    const p = document.createElement('p')
    p.innerText = message 
    allMessages.appendChild(p)
  })

  sendMsg.addEventListener("click" , e =>  {
    const message = messageInput.value 
    console.log(message)
    socket.emit("user-message" , message)
  })
  


  
</script>
</html>